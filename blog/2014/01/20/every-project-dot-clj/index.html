<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-JCE3PGK5NB"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-JCE3PGK5NB');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Every project.clj</title>
    <link rel="icon" type="image/png" href="/images/aleph.png">
    <link rel="stylesheet" href="/style.css">
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$']],
        displayMath: [['$$', '$$']]
      }
    };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
    <nav class="nav">
        <a href="/">Home</a>
        <a href="/about/">About</a>
        <a href="/feed.xml">RSS</a>
    </nav>
    <article>
        <div class="post-date">January 20, 2014</div>
        <h1>Every project.clj</h1>
        <p>I was recently looking for an interesting relational dataset for another project and the idea of using the dependencies for every Clojure project on GitHub came up.  It turns out that it's possible to download almost every project.clj using <a href="https://github.com/Raynes/tentacles">Tentacles</a>, so I decided to...</p>
<p><img alt="Image" src="/images/download-all.png" /></p>
<p>The most annoying part was dealing with GitHub's rate limits, but after waiting a few hours I had them all on local disk and was able to play around.  I haven't gotten to dig into the data for the actual project I'm doing, but there were a couple simple queries that I thought were worth sharing.</p>
<h2>Most frequently included packages</h2>
<p>I was able to download 10770 project.clj files.  Here are the 50 most frequently included packages listed in their <code>:dependencies</code>:</p>
<table>
<thead>
<tr>
<th>Dependency</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>org.clojure/clojure-contrib</td>
<td>1524</td>
</tr>
<tr>
<td>compojure</td>
<td>1348</td>
</tr>
<tr>
<td>hiccup</td>
<td>743</td>
</tr>
<tr>
<td>clj-http</td>
<td>738</td>
</tr>
<tr>
<td>ring/ring-jetty-adapter</td>
<td>607</td>
</tr>
<tr>
<td>cheshire</td>
<td>558</td>
</tr>
<tr>
<td>org.clojure/data.json</td>
<td>552</td>
</tr>
<tr>
<td>clj-time</td>
<td>526</td>
</tr>
<tr>
<td>org.clojure/tools.logging</td>
<td>490</td>
</tr>
<tr>
<td>enlive</td>
<td>444</td>
</tr>
<tr>
<td>noir</td>
<td>388</td>
</tr>
<tr>
<td>ring/ring-core</td>
<td>375</td>
</tr>
<tr>
<td>ring</td>
<td>361</td>
</tr>
<tr>
<td>org.clojure/tools.cli</td>
<td>348</td>
</tr>
<tr>
<td>org.clojure/java.jdbc</td>
<td>344</td>
</tr>
<tr>
<td>org.clojure/clojurescript</td>
<td>339</td>
</tr>
<tr>
<td>org.clojure/core.async</td>
<td>235</td>
</tr>
<tr>
<td>midje</td>
<td>227</td>
</tr>
<tr>
<td>org.clojure/math.numeric-tower</td>
<td>219</td>
</tr>
<tr>
<td>korma</td>
<td>206</td>
</tr>
<tr>
<td>incanter</td>
<td>202</td>
</tr>
<tr>
<td>seesaw</td>
<td>195</td>
</tr>
<tr>
<td>overtone</td>
<td>172</td>
</tr>
<tr>
<td>slingshot</td>
<td>160</td>
</tr>
<tr>
<td>quil</td>
<td>158</td>
</tr>
<tr>
<td>com.taoensso/timbre</td>
<td>150</td>
</tr>
<tr>
<td>http-kit</td>
<td>149</td>
</tr>
<tr>
<td>ring/ring-devel</td>
<td>145</td>
</tr>
<tr>
<td>org.clojure/math.combinatorics</td>
<td>145</td>
</tr>
<tr>
<td>org.clojure/core.logic</td>
<td>138</td>
</tr>
<tr>
<td>environ</td>
<td>132</td>
</tr>
<tr>
<td>aleph</td>
<td>132</td>
</tr>
<tr>
<td>log4j</td>
<td>131</td>
</tr>
<tr>
<td>ch.qos.logback/logback-classic</td>
<td>125</td>
</tr>
<tr>
<td>org.clojure/tools.nrepl</td>
<td>124</td>
</tr>
<tr>
<td>congomongo</td>
<td>124</td>
</tr>
<tr>
<td>com.datomic/datomic-free</td>
<td>123</td>
</tr>
<tr>
<td>com.novemberain/monger</td>
<td>123</td>
</tr>
<tr>
<td>lib-noir</td>
<td>121</td>
</tr>
<tr>
<td>org.clojure/core.match</td>
<td>118</td>
</tr>
<tr>
<td>ring/ring-json</td>
<td>111</td>
</tr>
<tr>
<td>clojure</td>
<td>110</td>
</tr>
<tr>
<td>org.clojure/data.xml</td>
<td>110</td>
</tr>
<tr>
<td>log4j/log4j</td>
<td>109</td>
</tr>
<tr>
<td>mysql/mysql-connector-java</td>
<td>109</td>
</tr>
<tr>
<td>postgresql/postgresql</td>
<td>107</td>
</tr>
<tr>
<td>org.clojure/data.csv</td>
<td>101</td>
</tr>
<tr>
<td>org.clojure/tools.trace</td>
<td>98</td>
</tr>
<tr>
<td>org.clojure/tools.namespace</td>
<td>92</td>
</tr>
<tr>
<td>ring-server</td>
<td>92</td>
</tr>
<tr>
<td><br/></td>
<td></td>
</tr>
<tr>
<td>I think it makes a nice hit-list of projects to check out!</td>
<td></td>
</tr>
</tbody>
</table>
<p>A couple interesting things jumped out at me:</p>
<ol>
<li>12.5% of Clojure projects on GitHub are using Compojure.  Impressive.</li>
<li>congomongo, com.novemberain/monger, com.datomic/datomic-free, mysql/mysql-connector-java, and postgresql/postgresql are all clustered together in the low 100's.</li>
</ol>
<h2>Most frequently applied licenses</h2>
<p>Just over half of the project.clj's don't contain a <code>:license</code>.  Here are the most popular:</p>
<table>
<thead>
<tr>
<th>License</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>EPL</td>
<td>4430</td>
</tr>
<tr>
<td>MIT</td>
<td>336</td>
</tr>
<tr>
<td>Apache</td>
<td>106</td>
</tr>
<tr>
<td>BSD</td>
<td>92</td>
</tr>
<tr>
<td>GPL</td>
<td>90</td>
</tr>
<tr>
<td>LGPL</td>
<td>25</td>
</tr>
<tr>
<td>CC</td>
<td>21</td>
</tr>
<tr>
<td>WTFPL</td>
<td>18</td>
</tr>
<tr>
<td>AGPL</td>
<td>11</td>
</tr>
<tr>
<td>Mozilla</td>
<td>11</td>
</tr>
<tr>
<td><br/></td>
<td></td>
</tr>
<tr>
<td>The EPL's dominance doesn't come as a surprise, given Clojure's use of it for the core libraries.</td>
<td></td>
</tr>
</tbody>
</table>
<p>23 projects have "WTF" or "fuck" in their license string:</p>
<table>
<thead>
<tr>
<th>License</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>WTFPL</td>
<td>18</td>
</tr>
<tr>
<td>Do What The Fuck You Want To Public License</td>
<td>3</td>
</tr>
<tr>
<td>DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE Version 2</td>
<td>1</td>
</tr>
<tr>
<td>All Rights Reserved Muthafucka</td>
<td>1</td>
</tr>
</tbody>
</table>
<h2>Conclusion</h2>
<p>I'd like to share a mirror of just the project.clj files wrapped up in a single download, but I want to be conscientious of the variety of licenses.  I'll clean up the code for pulling and summarizing all this data soon so others can play with it.  In the meantime, feel free to suggest other analyses that could be done on these...</p>
    </article>
    <footer class="post-footer">
        <a href="/" class="home-link">‚Üê Back to Home</a>
    </footer>
</body>
</html>